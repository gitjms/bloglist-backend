(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(10),o=n.n(r),i=n(6),c=n(2),u=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error",style:{color:"red",background:"lightgray",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginTop:10,marginBottom:10}},t)},s=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"message",style:{color:"green",background:"lightgray",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginTop:10,marginBottom:10}},t)},m=n(3),f=n.n(m),d=n(4),p=n(5),g=n.n(p),b={getAll:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.a.get("/api/blogs"),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.a.post("/api/blogs",t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var a,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.a.put("".concat("/api/blogs","/").concat(t),n),e.next=3,a;case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.a.delete("".concat("/api/blogs","/").concat(t)),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.values,n=e.likeBlog,a=e.replaceTitle,r=e.deleteBlog;return l.a.createElement("div",{className:"list-group"},l.a.createElement("li",{className:"list-group-item list-group-item-action"},t.title,l.a.createElement("span",{style:{margin:"5px"}}),t.author,l.a.createElement("span",{style:{margin:"5px"}}),t.url,l.a.createElement("span",{style:{margin:"5px"}})),l.a.createElement("div",{className:"form-inline"},l.a.createElement("div",null,l.a.createElement("span",{style:{margin:"5px"}}),"Likes: ",t.likes,l.a.createElement("button",{type:"button",className:"btn btn-success",id:"listbtnlike",style:{marginLeft:"5px"},onClick:n},"+1"),l.a.createElement("span",{style:{marginRight:"10px"}})),l.a.createElement("button",{type:"button",className:"btn btn-primary",id:"listbtn",style:{marginLeft:"5px"},onClick:a},"change title"),l.a.createElement("span",{style:{marginRight:"10px"}}),l.a.createElement("button",{type:"button",className:"btn btn-warning",id:"listbtn",style:{marginLeft:"5px"},onClick:r},"delete")))},E=function(e){var t=e.rows;return l.a.createElement("div",{style:{lineHeight:0}},t)},v=function(e){var t=e.setTitleToFind,n=e.titleToFind,a=e.handleFindTitleChange;return l.a.createElement("form",{onChange:t},l.a.createElement("div",{align:"left"},l.a.createElement("label",{htmlFor:"filter"},"filter shown with:"),l.a.createElement("input",{id:"filter",type:"text",className:"form-control",value:n,onChange:a})))},y=function(e){var t=e.addBlog,n=e.newTitle,a=e.handleTitleChange,r=e.newAuthor,o=e.handleAuthorChange,i=e.newUrl,c=e.handleUrlChange,u=(e.newLikes,e.handleLikesChange,e.replaceTitle);return l.a.createElement("div",{className:"col-auto"},l.a.createElement("form",{onSubmit:t},l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"title"},"title:"),l.a.createElement("input",{id:"title",type:"text",className:"form-control",value:n,onChange:a})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"author"},"author:"),l.a.createElement("input",{id:"author",type:"text",className:"form-control",value:r,onChange:o})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"url"},"url:"),l.a.createElement("input",{id:"url",type:"text",className:"form-control",value:i,onChange:c})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:u},"add"))))},w=function(){return l.a.createElement("div",{style:{color:"gray",fontStyle:"italic",fontSize:16}},l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("center",null,l.a.createElement("em",null,"Bloglist app, Full Stack Web Development"),l.a.createElement("br",null),l.a.createElement("em",null,"University of Helsinki 2020")))},T=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),r=t[0],o=t[1],m=Object(a.useState)(""),f=Object(c.a)(m,2),d=f[0],p=f[1],g=Object(a.useState)(""),T=Object(c.a)(g,2),k=T[0],j=T[1],O=Object(a.useState)(""),C=Object(c.a)(O,2),N=C[0],S=C[1],x=Object(a.useState)(0),B=Object(c.a)(x,2),F=B[0],L=B[1],A=Object(a.useState)(!0),D=Object(c.a)(A,2),U=D[0],I=D[1],R=Object(a.useState)(""),z=Object(c.a)(R,2),q=z[0],H=z[1],J=Object(a.useState)(null),W=Object(c.a)(J,2),G=W[0],K=W[1],M=Object(a.useState)(null),P=Object(c.a)(M,2),Q=P[0],V=P[1];Object(a.useEffect)((function(){b.getAll().then((function(e){o(e)}))}),[]);var X=n(50).animateScroll,Y=U?Array.from(r):r.filter((function(e){return e.title.toLowerCase().includes(q.toLowerCase())})),Z=function(e){var t=r.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{title:d});d?window.confirm("replace the old title with a new one?")&&b.update(e,n).then((function(e){o(r.map((function(n){return n.title!==t.title?n:e}))),X.scrollToTop(),V("Changed blog title of `".concat(t.title,"` to `").concat(d,"`")),setTimeout((function(){V(null)}),4e3)})).catch((function(e){X.scrollToTop(),K("Something went wrong: `".concat(e.data,"`")),setTimeout((function(){K(null)}),4e3),o(r.filter((function(e){return e.id!==t.id})))})):(X.scrollTo("myScrollToElement",{duration:500,delay:50,smooth:!0,containerId:"ContainerElementID",offset:50}),K("Set new title in the field `title`"),setTimeout((function(){K(null)}),4e3))},$=function(e){var t=r.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});b.update(t.id,n).then((function(e){o(r.map((function(n){return n.likes!==t.likes?n:e})))})).catch((function(e){X.scrollToTop(),K("Something went wrong: `".concat(e.data,"`")),setTimeout((function(){K(null)}),4e3),o(r.filter((function(e){return e.id!==t.id})))}))},_=function(e){var t=r.find((function(t){return t.id===e}));window.confirm("Delete `".concat(t.title,"`?"))&&b.remove(e,t).then((function(){o(r.filter((function(t){return t.id!==e}))),X.scrollToTop(),V("Deleted `".concat(t.title,"`")),setTimeout((function(){V(null)}),4e3)})).catch((function(e){X.scrollToTop(),K("Information of `".concat(t.title,"` has already been removed from server")),setTimeout((function(){K(null)}),4e3)}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{id:"nav",className:"navbar navbar-light bg-light"},l.a.createElement("strong",null,"Bloglist"),l.a.createElement("a",{role:"button",className:"btn btn-outline-primary",href:"/info"},"Info")),l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("div",{className:"col-auto"},l.a.createElement(v,{setTitleToFind:function(e){e.preventDefault(),""!==q&&I(!1)},titleToFind:q,handleFindTitleChange:function(e){H(e.target.value)}})),l.a.createElement(s,{message:Q}),l.a.createElement(u,{message:G}),l.a.createElement("br",null),l.a.createElement("div",{className:"col-auto"},l.a.createElement("b",null,"Add new blog"),l.a.createElement(y,{name:"myScrollToElement",addBlog:function(e){e.preventDefault();var t={title:d,author:k,url:N,likes:F};r.map((function(e){return e.url.toLowerCase()})).includes(t.url.toLowerCase())?(K("`Url` should be unique"),setTimeout((function(){K(null)}),4e3),S("")):b.create(t).then((function(e){o(r.concat(e)),p(""),j(""),S(""),L(0),V("Added ".concat(t.title)),setTimeout((function(){V(null)}),4e3)})).catch((function(e){K("fields title, author, and url are required"),setTimeout((function(){K(null)}),4e3)}))},newTitle:d,handleTitleChange:function(e){p(e.target.value)},newAuthor:k,handleAuthorChange:function(e){j(e.target.value)},newUrl:N,handleUrlChange:function(e){S(e.target.value)},newLikes:F,handleLikesChange:function(e){L(e.target.value)}})),l.a.createElement("br",null),l.a.createElement("div",{className:"col-auto"},l.a.createElement("b",null,"Blogs"),l.a.createElement(E,{rows:Y.map((function(e){return l.a.createElement(h,{key:e.title,values:e,likeBlog:function(){return $(e.id)},replaceTitle:function(){return Z(e.id)},deleteBlog:function(){return _(e.id)}})}))})),l.a.createElement(w,null)))};n(61);o.a.render(l.a.createElement(T,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.3c7a97c1.chunk.js.map