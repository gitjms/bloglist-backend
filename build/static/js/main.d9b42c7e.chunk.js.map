{"version":3,"sources":["services/blogs.js","reducers/blogReducer.js","services/users.js","reducers/userReducer.js","reducers/messageReducer.js","reducers/filterReducer.js","reducers/loggedUserReducer.js","store.js","services/login.js","hooks/index.js","components/LoginForm.js","components/Filter.js","components/CommentForm.js","components/Blog.js","components/BlogForm.js","components/Blogs.js","components/User.js","components/Users.js","components/Message.js","components/Footer.js","components/Togglable.js","App.js","index.js"],"names":["baseUrl","token","getAll","a","request","axios","get","response","data","create","newObject","config","headers","Authorization","post","update","console","log","put","id","addComment","remove","delete","setToken","newToken","initializeBlogs","dispatch","blogService","blogs","type","createBlog","blog","newBlog","findById","state","find","n","likedBlog","likes","commentedBlog","comments","blogReducer","action","map","concat","content","initializeUsers","userService","users","userReducer","timeOutList","setMessage","text","which","time","forEach","tout","clearTimeout","messageChange","push","setTimeout","errorMessageChange","messageReducer","filterReducer","setLoggedUser","loggedUserReducer","reducer","combineReducers","loggedUser","message","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","then","login","credentials","useField","form","useState","value","setValue","onChange","event","target","onReset","LoginForm","loginUser","setForm","newUsername","newPassword","className","align","style","float","onClick","preventDefault","newUser","username","password","Filter","useDispatch","filterChange","htmlFor","name","CommentForm","props","scroller","require","animateScroll","listVisible","newComment","width","marginBottom","placeholder","exception","scrollToTop","handleReset","Blog","useParams","blogVisible","setBlogVisible","ShowOrhide","display","padding","size","fontSize","title","author","href","url","updateLikes","user","com","history","goBack","deleteBlog","setListVisible","length","comment","key","BlogForm","newTitle","newAuthor","newUrl","styling","marginTop","compareLikes","b","mapDispatchToProps","returnedContent","deletedBlog","connect","sort","toLowerCase","includes","visible","hideOrShow","to","path","User","userBlogs","setVisible","deleteUser","deletedUser","textAlign","Object","keys","Message","useSelector","color","background","borderStyle","borderRadius","Footer","fontStyle","Togglable","React","forwardRef","ref","hideWhenVisible","showWhenVisible","toggleVisibility","useImperativeHandle","role","buttonLabel","children","displayName","App","useEffect","useHistory","loginFormRef","useRef","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","loginObject","loginService","setItem","stringify","handleLogout","clear","location","reload","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d9b42c7e.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const request = axios.get(baseUrl)\r\n  const response = await request\r\n  return response.data\r\n}\r\nconst create = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.post(baseUrl, newObject, config)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst update = async (newObject) => {\r\n  console.log(newObject)\r\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst addComment = async (newObject) => {\r\n  const request = axios.post(`${baseUrl}/${newObject.id}/comments`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.delete(`${baseUrl}/${id}`, config)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, create, update, addComment, remove, setToken }\r\n","import blogService from '../services/blogs'\r\n\r\nexport const initializeBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data: blogs\r\n    })\r\n  }\r\n}\r\n\r\nexport const createBlog = (blog) => {\r\n  return async dispatch => {\r\n    const newBlog = await blogService.create(blog)\r\n    dispatch({\r\n      type: 'NEW_BLOG',\r\n      data: newBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    const deletedBlog = await blogService.remove(id)\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: deletedBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport const updateLikes = (blog) => {\r\n  return async dispatch => {\r\n    const returnedContent = await blogService.update(blog)\r\n    dispatch({\r\n      type: 'UPDATE_LIKES',\r\n      data: returnedContent\r\n    })\r\n  }\r\n}\r\n\r\nexport const addComment = (comment) => {\r\n  return async dispatch => {\r\n    const returnedContent = await blogService.addComment(comment)\r\n    dispatch({\r\n      type: 'ADD_COMMENT',\r\n      data: returnedContent\r\n    })\r\n  }\r\n}\r\n\r\nconst findById = (state, id) => {\r\n  return state.find(n => n.id === id)\r\n}\r\n\r\nconst likedBlog = (state, id, likes) => {\r\n  return {\r\n    ...findById(state, id),\r\n    likes: likes\r\n  }\r\n}\r\n\r\nconst commentedBlog = (state, id, comments) => {\r\n  return {\r\n    ...findById(state, id),\r\n    comments: comments\r\n  }\r\n}\r\n\r\nconst blogReducer = (state = [], action) => {\r\n  switch(action.type) {\r\n  case 'INIT_BLOGS':\r\n    return action.data\r\n  case 'NEW_BLOG':\r\n    return [...state, action.data]\r\n  case 'DELETE_BLOG':\r\n    return [...state, action.data]\r\n  case 'UPDATE_LIKES':\r\n    return state.map(blog =>\r\n      blog.id !== action.data.id ? blog : likedBlog(state, action.data.id, action.data.likes)\r\n    )\r\n  case 'ADD_COMMENT':\r\n    return state.map(blog =>\r\n      blog.id !== action.data.blog\r\n        ? blog\r\n        : commentedBlog(state, action.data.blog,\r\n          blog.comments.concat({ content: action.data.content, id: action.data.id }))\r\n    )\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default blogReducer","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/users'\r\n\r\n// let token = null\r\n\r\n// const setToken = newToken => {\r\n//   token = `bearer ${newToken}`\r\n// }\r\n\r\nconst getAll = async () => {\r\n  const request = axios.get(baseUrl)\r\n  const response = await request\r\n  return response.data\r\n}\r\nconst create = async (newObject) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token },\r\n  // }\r\n  const request = axios.post(baseUrl, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token },\r\n  // }\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, create, remove }\r\n","import userService from '../services/users'\r\n\r\nexport const initializeUsers = () => {\r\n  return async dispatch => {\r\n    const users = await userService.getAll()\r\n    dispatch({\r\n      type: 'INIT_USERS',\r\n      data: users\r\n    })\r\n  }\r\n}\r\n\r\nexport const createUser = (user) => {\r\n  return async dispatch => {\r\n    const newUser = await userService.create(user)\r\n    dispatch({\r\n      type: 'NEW_USER',\r\n      data: newUser\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteUser = (id) => {\r\n  return async dispatch => {\r\n    const deletedUser = await userService.remove(id)\r\n    dispatch({\r\n      type: 'DELETE_USER',\r\n      data: deletedUser\r\n    })\r\n  }\r\n}\r\n\r\nconst userReducer = (state = [], action) => {\r\n  switch(action.type) {\r\n  case 'INIT_USERS':\r\n    return action.data\r\n  case 'NEW_USER':\r\n    return [...state, action.data]\r\n  case 'DELETE_USER':\r\n    return [...state, action.data]\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default userReducer","let timeOutList = []\r\n\r\nexport const setMessage = (text, which, time) => {\r\n  timeOutList.forEach(tout => typeof tout === 'number' ? clearTimeout(tout) : tout)\r\n  return async dispatch => {\r\n    which === 'msg'\r\n      ? await dispatch(messageChange(text, which))\r\n      && timeOutList.push(setTimeout(() => {\r\n        dispatch(messageChange(null))\r\n        timeOutList = []\r\n      }, 1000*time))\r\n      : await dispatch(errorMessageChange(text, which))\r\n      && timeOutList.push(setTimeout(() => {\r\n        dispatch(errorMessageChange(null))\r\n        timeOutList = []\r\n      }, 1000*time))\r\n  }\r\n}\r\n\r\nexport const messageChange = (text, which) => {\r\n  return {\r\n    type: 'SET_MESSAGE',\r\n    data: { text, which }\r\n  }\r\n}\r\n\r\nexport const errorMessageChange = (text, which) => {\r\n  return {\r\n    type: 'SET_ERRORMESSAGE',\r\n    data: { text, which }\r\n  }\r\n}\r\n\r\nconst messageReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_MESSAGE':\r\n    return action.data\r\n  case 'SET_ERRORMESSAGE':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default messageReducer","export const filterChange = ( type, content ) => {\r\n  return {\r\n    type: 'SET_FILTER',\r\n    content\r\n  }\r\n}\r\n\r\nconst filterReducer = (state = 'ALL', action) => {\r\n  switch (action.type) {\r\n  case 'SET_FILTER':\r\n    return {\r\n      type: action.type,\r\n      content: action.content\r\n    }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default filterReducer","export const setLoggedUser = ( content ) => {\r\n  return {\r\n    type: 'SET_LOGGEDUSER',\r\n    content\r\n  }\r\n}\r\n\r\nconst loggedUserReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_LOGGEDUSER':\r\n    return action.content\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default loggedUserReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport blogReducer, { initializeBlogs } from './reducers/blogReducer'\r\nimport userReducer, { initializeUsers } from './reducers/userReducer'\r\nimport messageReducer from './reducers/messageReducer'\r\nimport filterReducer from './reducers/filterReducer'\r\nimport loggedUserReducer from './reducers/loggedUserReducer'\r\nimport blogService from './services/blogs'\r\nimport userService from './services/users'\r\n\r\nconst reducer = combineReducers({\r\n  blogs: blogReducer,\r\n  users: userReducer,\r\n  loggedUser: loggedUserReducer,\r\n  message: messageReducer,\r\n  filter: filterReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nblogService.getAll().then(blogs =>\r\n  store.dispatch(initializeBlogs(blogs))\r\n)\r\n\r\nuserService.getAll().then(users =>\r\n  store.dispatch(initializeUsers(users))\r\n)\r\n\r\nexport default store","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import { useState } from 'react'\r\n\r\nexport const useField = (form) => {\r\n  const [value, setValue] = useState('')\r\n\r\n  const onChange = (event) => {\r\n    form\r\n      ? setValue(event.target.value)\r\n      : setValue('')\r\n  }\r\n\r\n  const onReset = () => {\r\n    setValue('')\r\n  }\r\n\r\n  return {\r\n    value,\r\n    onChange,\r\n    onReset\r\n  }\r\n}","import React, { useState } from 'react'\r\nimport { useField } from '../hooks'\r\n\r\nconst LoginForm = ({ loginUser }) => {\r\n\r\n  const [ form, setForm ] = useState(true)\r\n\r\n  const newUsername = useField(form)\r\n  const newPassword = useField(form)\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    setForm(true)\r\n\r\n    const newUser = {\r\n      username: newUsername.value,\r\n      password: newPassword.value\r\n    }\r\n\r\n    loginUser(newUser)\r\n  }\r\n\r\n  return (\r\n    <div className='form-group-inline'>\r\n      <form>\r\n        <div align='left' className='form-group-inline'>\r\n          <label id='formlabel'>username:</label>\r\n          <input id='loginput' className='form-control' {...newUsername} />\r\n          <label id='formlabel'>password:</label>\r\n          <input id='loginput' className='form-control' {...newPassword} />\r\n        </div>\r\n        <button className='btn btn-primary' id='login-button' type='button'\r\n          style={{ float: 'left' }}\r\n          onClick={handleSubmit}>login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { filterChange } from '../reducers/filterReducer'\r\n\r\nconst Filter = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleChange = (event) => {\r\n    event.preventDefault()\r\n    const content = event.target.value\r\n    dispatch(filterChange('SET_FILTER',content))\r\n  }\r\n\r\n  return (\r\n    <div className='col-auto'>\r\n      <form onChange={handleChange}>\r\n        <label htmlFor='filter'>filter shown with:</label>\r\n        <input name='filter' type='text' className='form-control' />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React, { useState } from 'react'\r\nimport { useField } from '../hooks'\r\n\r\nconst CommentForm = (props) => {\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n\r\n  const [ form, setForm ] = useState(!props.listVisible)\r\n\r\n  const newComment = useField(form)\r\n\r\n  const handleReset = (event) => {\r\n    event.preventDefault()\r\n    newComment.onReset(event)\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    setForm(true)\r\n\r\n    try {\r\n      props.addComment({\r\n        content: newComment.value,\r\n        blog: props.blog.id\r\n      })\r\n      props.initializeBlogs()\r\n      props.setMessage(`added comment '${newComment.value}'`,'msg',5)\r\n    } catch (exception) {\r\n      props.setMessage(exception,'err',10)\r\n    }\r\n\r\n    scroller.scrollToTop()\r\n    handleReset(event)\r\n  }\r\n\r\n  const size = {\r\n    width: '400px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  return (\r\n    <div className='input-group' style={size}>\r\n      <input className='form-control' {...newComment} placeholder='comment here...' />\r\n      <button className='btn btn-primary' type='submit'\r\n        onClick={handleSubmit}>\r\n        add comment\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentForm\r\n","import React, { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport CommentForm from './CommentForm'\r\n\r\nconst Blog = ({ props }) => {\r\n  const id = useParams().id\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n\r\n  const [ blogVisible, setBlogVisible ] = useState(!props.listVisible)\r\n  const ShowOrhide = { display: blogVisible ? 'none' : '' }\r\n\r\n  const blog = props.blogs.find(n => n.id === id)\r\n  if (!blog) {\r\n    return null\r\n  }\r\n\r\n  const commentForm = () => (\r\n    <CommentForm\r\n      blog={blog}\r\n      addComment={props.addComment}\r\n      history={props.history}\r\n      initializeBlogs={props.initializeBlogs}\r\n      setMessage={props.setMessage}\r\n      props={props}\r\n    />\r\n  )\r\n\r\n  const padding = {\r\n    padding: '5px'\r\n  }\r\n\r\n  const size = {\r\n    fontSize: '20px'\r\n  }\r\n\r\n  return(\r\n    <div style={ShowOrhide}>\r\n      <br />\r\n      <b style={size}>{blog.title}</b>\r\n      <span style={padding}></span>\r\n      by\r\n      <span style={padding}></span>\r\n      <b style={size}>{blog.author}</b>\r\n      <br /><br />\r\n      <a href={blog.url}>{blog.url}</a>\r\n      <br />\r\n      {blog.likes} likes\r\n      <button type='button' className='btn btn-success' id='like-button'\r\n        onClick={() => {\r\n          try {\r\n            props.updateLikes({\r\n              ...blog,\r\n              likes: blog.likes + 1,\r\n              user: blog.user.id,\r\n              comments: blog.comments.map(com => com.id)\r\n            })\r\n            scroller.scrollToTop()\r\n            props.setMessage(`you liked '${blog.title}'`,'msg',5)\r\n          } catch (exception) {\r\n            props.setMessage(exception,'err',10)\r\n          }\r\n        }}>like</button>\r\n      <br />\r\n      added by {blog.user.name}\r\n      { props.user.name === blog.user.name &&\r\n        <button type='button' id='delete-button' className='btn btn-warning'\r\n          onClick={() => {\r\n            props.history.goBack()\r\n            try {\r\n              props.deleteBlog(id)\r\n              scroller.scrollToTop()\r\n              props.setMessage(`you deleted '${blog.title}'`,'msg',5)\r\n            } catch (exception) {\r\n              props.setMessage(exception,'err',10)\r\n            }\r\n            props.initializeBlogs()\r\n            setBlogVisible(!blogVisible)\r\n            props.setListVisible(!props.listVisible)\r\n          }}>delete</button>\r\n      }\r\n      <button type='button' id='back-button' className='btn btn-primary'\r\n        onClick={() => {\r\n          props.history.goBack()\r\n          scroller.scrollToTop()\r\n          setBlogVisible(!blogVisible)\r\n          props.setListVisible(!props.listVisible)\r\n        }}\r\n        props={{\r\n          ...props,\r\n        }} > go back\r\n      </button>\r\n      <br /><br />\r\n      <b>Comments</b>\r\n      {commentForm()}\r\n      { blog.comments.length > 0 &&\r\n        <div className='col-auto'>\r\n          <ul>\r\n            {blog.comments.map(comment =>\r\n              <li key={comment.id}>\r\n                {comment.content}\r\n              </li>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n","import React, { useState } from 'react'\r\nimport { useField } from '../hooks'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nconst BlogForm = (props) => {\r\n  const dispatch = useDispatch()\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n\r\n  const [ form, setForm ] = useState(props.listVisible)\r\n  const ShowOrhide = { display: props.listVisible ? '' : 'none' }\r\n\r\n  const newTitle = useField(form)\r\n  const newAuthor = useField(form)\r\n  const newUrl = useField(form)\r\n\r\n  const handleReset = (event) => {\r\n    event.preventDefault()\r\n    newTitle.onReset(event)\r\n    newAuthor.onReset(event)\r\n    newUrl.onReset(event)\r\n    scroller.scrollToTop()\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    setForm(true)\r\n\r\n    const newBlog = {\r\n      title: newTitle.value,\r\n      author: newAuthor.value,\r\n      url: newUrl.value,\r\n      user: props.user.name\r\n    }\r\n\r\n    try {\r\n      dispatch(props.createBlog(newBlog))\r\n      props.setMessage(`added \\`${newTitle.value}\\``,'msg',5)\r\n    } catch (exception) {\r\n      props.setMessage(`error: \\`${exception}\\``,'err',5)\r\n    }\r\n\r\n    props.initializeBlogs()\r\n    props.setListVisible(!props.listVisible)\r\n    props.history.goBack()\r\n    scroller.scrollToTop()\r\n  }\r\n\r\n  const styling = {\r\n    float: 'left',\r\n    marginTop: '12px'\r\n  }\r\n\r\n  return (\r\n    <div className='col-auto' style={ShowOrhide}>\r\n      <br />\r\n      <b>Add a new blog</b>\r\n      <form>\r\n        <div align='left' className='form-group'>\r\n          <label id='formlabel'>title:</label>\r\n          <input className='form-control' {...newTitle} />\r\n        </div>\r\n        <div align='left' className='form-group'>\r\n          <label id='formlabel'>author:</label>\r\n          <input className='form-control' {...newAuthor} />\r\n        </div>\r\n        <div align='left' className='form-group'>\r\n          <label id='formlabel'>url:</label>\r\n          <input className='form-control' {...newUrl} />\r\n        </div>\r\n        <div align='left' className='form-group'>\r\n          <button className='btn btn-primary' id='add-button' type='submit'\r\n            style={styling}\r\n            onClick={handleSubmit}>\r\n            add\r\n          </button>\r\n          <button className='btn btn-primary' id='reset-button' type='button'\r\n            style={styling} onClick={handleReset} >\r\n            reset\r\n          </button>\r\n        </div>\r\n        <div align='right' className='form-group'>\r\n          <button className='btn btn-primary' id='formback-button' type='button'\r\n            onClick={() => {\r\n              props.setListVisible(!props.listVisible)\r\n              props.history.goBack()\r\n            }}\r\n            props={{\r\n              ...props,\r\n            }} >back\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm\r\n","import React, { useState } from 'react'\r\nimport { Switch, Route, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport Filter from './Filter'\r\nimport Blog from './Blog'\r\nimport BlogForm from './BlogForm'\r\nimport { updateLikes, deleteBlog, createBlog, addComment, initializeBlogs } from '../reducers/blogReducer'\r\nimport { setMessage } from '../reducers/messageReducer'\r\n\r\nconst Blogs = (props) => {\r\n\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n\r\n  const [ listVisible, setListVisible ] = useState(props.visible)\r\n  const hideOrShow = { display: listVisible ? 'none' : '' }\r\n\r\n  const bloglist = () => (\r\n    <table className='table-striped table-hover'>\r\n      <tbody>\r\n        {props.blogs.map(blog =>\r\n          <tr key={blog.id}>\r\n            <td>\r\n              <Link to={`/blogs/${blog.id}`}\r\n                onClick={() => {\r\n                  scroller.scrollToTop()\r\n                  setListVisible(!listVisible)\r\n                  props.history.push('/blogs')\r\n                }}\r\n              >{blog.title}\r\n              </Link>\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  )\r\n\r\n  const blogForm = () => (\r\n    <Link to={'/blogs/create'}\r\n      onClick={() => {\r\n        scroller.scrollToTop()\r\n        setListVisible(!listVisible)\r\n        props.history.push('/blogs')\r\n      }}\r\n    >CREATE NEW\r\n    </Link>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <div style={hideOrShow}>\r\n        <br />\r\n        <Filter />\r\n        <h2>Blogs</h2>\r\n        <div>\r\n          {props.user !== null\r\n            ? blogForm()\r\n            : null\r\n          }\r\n        </div>\r\n        <br />\r\n        <div>\r\n          {bloglist()}\r\n        </div>\r\n      </div>\r\n\r\n      <Switch>\r\n        <Route path='/blogs/create'>\r\n          <BlogForm\r\n            user={props.user}\r\n            listVisible={listVisible}\r\n            setListVisible={setListVisible}\r\n            createBlog={createBlog}\r\n            initializeBlogs={initializeBlogs}\r\n            history={props.history}\r\n            setMessage={props.setMessage}\r\n          />\r\n        </Route>\r\n        <Route path='/blogs/:id'>\r\n          <Blog\r\n            props={{\r\n              ...props,\r\n              listVisible: listVisible,\r\n              setListVisible: setListVisible,\r\n              initializeBlogs: initializeBlogs,\r\n              history: props.history,\r\n              setMessage: props.setMessage\r\n            }}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction compareLikes(a, b) {\r\n  return b.likes - a.likes\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  if ( state.filter === 'ALL' ) {\r\n    return { blogs: state.blogs.sort(compareLikes) }\r\n  }\r\n  return {\r\n    blogs: state.blogs.filter(blog => blog.title.toLowerCase()\r\n      .includes(state.filter.content.toLowerCase())).sort(compareLikes)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  updateLikes,\r\n  deleteBlog,\r\n  addComment,\r\n  initializeBlogs,\r\n  setMessage\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Blogs)","import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst User = ({ props }) => {\r\n  const id = useParams().id\r\n\r\n  const ShowOrhide = { display: props.visible ? '' : 'none' }\r\n\r\n  const user = props.users.find(user => user.id === id)\r\n  if (!user) {\r\n    return null\r\n  }\r\n\r\n  const userBlogs = props.blogs.map(blog => {\r\n    return blog.user.name === user.name\r\n      ? blog : null\r\n  }).filter(blog => !!blog)\r\n\r\n  return(\r\n    <div className='col-auto' style={ShowOrhide}>\r\n      <div>\r\n        <br />\r\n        <h2>{user.name}</h2>\r\n        {userBlogs.length > 0\r\n          ? <>\r\n            <b>added blogs</b>\r\n            <button type='button' className='btn btn-primary' id='back-button'\r\n              onClick={() => {\r\n                props.history.goBack()\r\n                props.setVisible(!props.visible)\r\n              }}\r\n              props={{\r\n                ...props,\r\n              }} >back\r\n            </button>\r\n            <div className='col-auto'>\r\n              <ul>\r\n                {userBlogs.map(blog =>\r\n                  <li key={blog.id}>\r\n                    {blog.title}\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </>\r\n          : <>\r\n            <b>no added blogs</b>\r\n            <button type='button' className='btn btn-primary' id='back-button'\r\n              onClick={() => {\r\n                props.history.goBack()\r\n                props.setVisible(!props.visible)\r\n              }}\r\n              props={{\r\n                ...props,\r\n              }} >back\r\n            </button>\r\n          </>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport { Switch, Route, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport User from './User'\r\nimport { deleteUser } from '../reducers/userReducer'\r\nimport { setMessage } from '../reducers/messageReducer'\r\n\r\nconst Users = (props) => {\r\n\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n  const hideOrShow = { display: props.visible ? 'none' : '' }\r\n\r\n  const usertable = () => (\r\n    <table className='table-hover'>\r\n      <tbody>\r\n        <tr>\r\n          <th></th>\r\n          <th>blogs created</th>\r\n        </tr>\r\n        {props.users.map(user =>\r\n          <tr key={user.id}>\r\n            <td>\r\n              <Link\r\n                to={`/users/${user.id}`}\r\n                onClick={() => {\r\n                  scroller.scrollToTop()\r\n                  props.setVisible(true)\r\n                  props.history.push('/users')\r\n                }}\r\n              >{user.name}\r\n              </Link>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n              {Object.keys(user.blogs).length}\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <div style={hideOrShow}>\r\n        <br />\r\n        {/* <Filter /> */}\r\n        <h2>Users</h2>\r\n        {/* <div>\r\n          {props.user !== null\r\n            ? props.blogForm()\r\n            : null\r\n          }\r\n        </div> */}\r\n        <div>\r\n          <ul>\r\n            {usertable()}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <Switch>\r\n        {/* <Route path='/create'>\r\n          <BlogForm\r\n            props={{\r\n              ...props,\r\n              setVisible: props.setVisible,\r\n              history: props.history\r\n            }}\r\n          />\r\n        </Route> */}\r\n        <Route path='/users/:id'>\r\n          <User\r\n            props={{\r\n              ...props,\r\n              visible: props.visible,\r\n              setVisible: props.setVisible,\r\n              history: props.history,\r\n              setMessage: props.setMessage\r\n            }}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteUser,\r\n  setMessage\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Users)","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Message = () => {\r\n  const message = useSelector(({ message }) => {\r\n    if ( message !== null ) {\r\n      return message\r\n    }\r\n    return { which: '' , text: '' }\r\n  })\r\n\r\n  const messageStyle = {\r\n    color: 'green',\r\n    background: 'lightgray',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const errorMessageStyle = {\r\n    color: 'rgb(255, 0, 0)',\r\n    background: 'lightgray',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={message.which === 'msg'\r\n        ? messageStyle\r\n        : message.which === 'err'\r\n          ? errorMessageStyle\r\n          : null\r\n      } >\r\n      {message.text}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'gray',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <hr />\r\n      <center>\r\n        <em>Bloglist app, Full Stack Web Development</em>\r\n        <br />\r\n        <em>University of Helsinki 2020</em>\r\n      </center>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n\r\n  Togglable.propTypes = {\r\n    buttonLabel: PropTypes.string.isRequired\r\n  }\r\n\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n    if (visible) {\r\n      scroller.scrollToTop()\r\n    }\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className='btn-group' role='group'>\r\n      <div style={hideWhenVisible}>\r\n        <button className='btn btn-primary'type='submit'\r\n          onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible} className='togglableContent'>\r\n        {props.children}\r\n        <button className='btn btn-primary'type='submit' style={{ float: 'right' }}\r\n          onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\n\r\nexport default Togglable","import React, { useState, useEffect, useRef } from 'react'\nimport { Switch, Route, Link, useHistory } from 'react-router-dom'\n\nimport { initializeBlogs } from './reducers/blogReducer'\nimport { initializeUsers } from './reducers/userReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n\nimport LoginForm from './components/LoginForm'\n\nimport Blogs from './components/Blogs'\nimport Users from './components/Users'\nimport Message from './components/Message'\nimport Footer from './components/Footer'\nimport Togglable from './components/Togglable'\nimport { setLoggedUser } from './reducers/loggedUserReducer'\nimport { setMessage } from './reducers/messageReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initializeBlogs())\n    dispatch(initializeUsers())\n  }, [dispatch])\n\n  const [ visible, setVisible ] = useState(false)\n\n  const history = useHistory()\n  const loginFormRef = useRef()\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBloglistappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      dispatch(setLoggedUser(user))\n      blogService.setToken(user.token)\n    }\n  }, [dispatch])\n\n  const handleLogin = async (loginObject) => {\n    if (loginObject.username === '' || loginObject.password === '') {\n      dispatch(setMessage('both fields are required','err',5))\n    } else {\n      try {\n        const user = await loginService.login(loginObject)\n        window.localStorage.setItem('loggedBloglistappUser', JSON.stringify(user))\n        blogService.setToken(user.token)\n        dispatch(setLoggedUser(user))\n      } catch (exception) {\n        dispatch(setMessage('wrong username or password','err',5))\n      }\n    }\n  }\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    try {\n      dispatch(setLoggedUser(null))\n      window.localStorage.clear()\n    } catch (exception) {\n      dispatch(setMessage(exception,'err',5))\n    }\n    window.location.reload()\n    history.goBack()\n  }\n\n  const loginForm = () => (\n    <Togglable buttonLabel='sign in' ref={loginFormRef}>\n      <LoginForm loginUser={handleLogin} />\n    </Togglable>\n  )\n\n  const user = (\n    useSelector(state => {\n      return state.loggedUser !== null\n        ? state.loggedUser\n        : null\n    })\n  )\n\n  return (\n    <>\n      <nav id='nav' className='navbar navbar-light bg-light'>\n        {/* <img src='/logo.png' width='50' height='35' className='d-inline-block align-top' alt=''/> */}\n        <a className=\"navbar-brand\" href=\"/\"><strong>Bloglist</strong></a>\n\n        {user !== null ?\n          <>\n            <div>\n              <Link to='/blogs' >blogs</Link>\n            </div>\n            <div>\n              <Link to='/users' >users</Link>\n            </div>\n            <div>\n              {user.name} logged in\n              <button className='btn btn-primary ml-2' id='logout-button' type='submit'\n                onClick={handleLogout}>\n                Logout\n              </button>\n            </div>\n          </>\n          : loginForm()\n        }\n      </nav>\n\n      <div className='container'>\n        <Message />\n        <Switch>\n          <Route path='/blogs'>\n            {user !== null\n              ? <Blogs\n                user={user}\n                visible={visible}\n                history={history}\n                setVisible={setVisible}\n                setMessage={setMessage}\n              />\n              : null\n            }\n          </Route>\n          <Route path='/users'>\n            {user !== null\n              ? <Users\n                user={user}\n                visible={visible}\n                history={history}\n                setVisible={setVisible}\n                setMessage={setMessage}\n              />\n              : null\n            }\n          </Route>\n        </Switch>\n        <Footer />\n      </div>\n    </>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>, document.getElementById('root')\n)\n"],"sourceRoot":""}