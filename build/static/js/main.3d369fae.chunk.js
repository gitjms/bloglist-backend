(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(16),i=n.n(r),o=n(6),c=n(2),u=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"error",style:{color:"red",background:"lightgray",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginTop:10,marginBottom:10}},t)},s=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{className:"message",style:{color:"green",background:"lightgray",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginTop:10,marginBottom:10}},t)},m=n(3),f=n.n(m),d=n(4),g=n(5),p=n.n(g),b={getAll:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.a.get("/api/blogs"),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.post("/api/blogs",t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var a,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.a.put("".concat("/api/blogs","/").concat(t),n),e.next=3,a;case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.a.delete("".concat("/api/blogs","/").concat(t)),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.values,n=e.deleteBlog,a=e.likeBlog;return l.a.createElement("div",{className:"list-group"},l.a.createElement("li",{className:"list-group-item list-group-item-action"},t.title,l.a.createElement("span",{style:{margin:"5px"}}),t.author,l.a.createElement("span",{style:{margin:"5px"}}),t.url,l.a.createElement("span",{style:{margin:"5px"}}),t.likes,l.a.createElement("span",{style:{margin:"5px"}}),l.a.createElement("button",{type:"button",className:"btn btn-warning",id:"listbtn",style:{marginLeft:"5px"},onClick:n},"delete"),l.a.createElement("button",{type:"button",className:"btn btn-success",id:"listbtn",style:{marginLeft:"5px"},onClick:a},"like")))},v=function(e){var t=e.rows;return l.a.createElement("div",{style:{lineHeight:0}},t)},E=function(e){var t=e.setTitleToFind,n=e.titleToFind,a=e.handleFindTitleChange;return l.a.createElement("form",{onChange:t},l.a.createElement("div",{align:"left"},l.a.createElement("label",{htmlFor:"filter"},"filter shown with:"),l.a.createElement("input",{id:"filter",type:"text",className:"form-control",value:n,onChange:a})))},y=function(e){var t=e.addBlog,n=e.newTitle,a=e.handleTitleChange,r=e.newAuthor,i=e.handleAuthorChange,o=e.newUrl,c=e.handleUrlChange,u=e.newLikes,s=e.handleLikesChange,m=e.replaceTitle;return l.a.createElement("div",{className:"col-auto"},l.a.createElement("form",{onSubmit:t},l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"title"},"title:"),l.a.createElement("input",{id:"title",type:"text",className:"form-control",value:n,onChange:a})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"author"},"author:"),l.a.createElement("input",{id:"author",type:"text",className:"form-control",value:r,onChange:i})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"url"},"url:"),l.a.createElement("input",{id:"url",type:"text",className:"form-control",value:o,onChange:c})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("label",{id:"formlabel",htmlFor:"likes"},"likes:"),l.a.createElement("input",{id:"likes",type:"text",className:"form-control",value:u,onChange:s})),l.a.createElement("div",{align:"left",className:"form-group"},l.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:m},"add"))))},w=function(){return l.a.createElement("div",{style:{color:"gray",fontStyle:"italic",fontSize:16}},l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("center",null,l.a.createElement("em",null,"Bloglist app, Full Stack Web Development"),l.a.createElement("br",null),l.a.createElement("em",null,"University of Helsinki 2020")))},k=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),m=Object(c.a)(i,2),f=m[0],d=m[1],g=Object(a.useState)(""),p=Object(c.a)(g,2),k=p[0],j=p[1],O=Object(a.useState)(""),C=Object(c.a)(O,2),N=C[0],T=C[1],x=Object(a.useState)(0),S=Object(c.a)(x,2),F=S[0],B=S[1],L=Object(a.useState)(!0),A=Object(c.a)(L,2),D=A[0],I=A[1],U=Object(a.useState)(""),z=Object(c.a)(U,2),H=z[0],J=z[1],R=Object(a.useState)(null),W=Object(c.a)(R,2),q=W[0],G=W[1],K=Object(a.useState)(null),M=Object(c.a)(K,2),P=M[0],Q=M[1];Object(a.useEffect)((function(){b.getAll().then((function(e){console.log(e),r(e)}))}),[]);var V=D?Array.from(n):n.filter((function(e){return e.title.toLowerCase().includes(H.toLowerCase())})),X=function(e){var t=n.find((function(t){return t.title===e.title})),a=Object(o.a)(Object(o.a)({},t),{},{title:t.title}),l="".concat(t.title," is already added to\n      bloglist, replace the old title with a new one?");window.confirm(l)&&b.put(t.id,a).then((function(e){r(n.map((function(n){return n.title!==t.title?n:e}))),Q("Changed blog title of ".concat(t.title)),setTimeout((function(){Q(null)}),4e3)})).catch((function(e){G("Information of ".concat(t.title," has already been removed from server")),setTimeout((function(){G(null)}),4e3),r(n.filter((function(e){return e.id!==t.id})))}))},Y=function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.title,"?"))&&b.remove(e,t).then((function(){r(n.filter((function(t){return t.id!==e}))),Q("Deleted ".concat(t.title)),setTimeout((function(){Q(null)}),4e3)})).catch((function(e){G("Information of ".concat(t.title," has already been removed from server")),setTimeout((function(){G(null)}),4e3)}))},Z=function(e){var t=n.find((function(t){return t.id===e})),a=Object(o.a)(Object(o.a)({},t),{},{likes:t.likes});b.put(t.id,a).then((function(e){r(n.map((function(n){return n.likes!==t.likes?n:e}))),Q("Liked blog title of ".concat(t.title)),setTimeout((function(){Q(null)}),4e3)})).catch((function(e){G("Information of ".concat(t.title," has already been removed from server")),setTimeout((function(){G(null)}),4e3),r(n.filter((function(e){return e.id!==t.id})))}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{id:"nav",className:"navbar navbar-light bg-light"},l.a.createElement("strong",null,"Bloglist"),l.a.createElement("a",{role:"button",className:"btn btn-outline-primary",href:"/info"},"Info")),l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("div",{className:"col-auto"},l.a.createElement(E,{setTitleToFind:function(e){e.preventDefault(),""!==H&&I(!1)},titleToFind:H,handleFindTitleChange:function(e){J(e.target.value)}})),l.a.createElement(s,{message:P}),l.a.createElement(u,{message:q}),l.a.createElement("br",null),l.a.createElement("div",{className:"col-auto"},l.a.createElement("b",null,"Add new blog"),l.a.createElement(y,{addBlog:function(e){e.preventDefault();var t={title:f,author:k,url:N,likes:F};n.map((function(e){return e.title.toLowerCase()})).includes(t.title.toLowerCase())?X(t):b.create(t).then((function(e){r(n.concat(e)),d(""),j(""),T(""),B(0),Q("Added ".concat(t.title)),setTimeout((function(){Q(null)}),4e3)})).catch((function(e){G(console.log(e.response.data)),setTimeout((function(){G(null)}),4e3)}))},newTitle:f,handleTitleChange:function(e){d(e.target.value)},newAuthor:k,handleAuthorChange:function(e){j(e.target.value)},newUrl:N,handleUrlChange:function(e){T(e.target.value)},newLikes:F,handleLikesChange:function(e){B(e.target.value)}})),l.a.createElement("br",null),l.a.createElement("div",{className:"col-auto"},l.a.createElement("b",null,"Blogs"),l.a.createElement(v,{rows:V.map((function(e){return l.a.createElement(h,{key:e.title,values:e,deleteBlog:function(){return Y(e.id)},replaceTitle:function(){return X(e.title,e.author,e.url,e.likes)},likeBlog:function(){return Z(e.id)}})}))})),l.a.createElement(w,null)))};n(40);i.a.render(l.a.createElement(k,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.3d369fae.chunk.js.map