(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),o=n.n(l),i=n(6),c=n(2),u=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error",style:{color:"red",background:"lightgray",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginTop:10,marginBottom:10}},t)},s=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"message",style:{color:"green",background:"lightgray",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginTop:10,marginBottom:10}},t)},m=n(3),f=n.n(m),d=n(4),p=n(5),g=n.n(p),b={getAll:function(){var e=Object(d.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.a.get("/api/blogs"),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.a.post("/api/blogs",t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(f.a.mark((function e(t,n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.a.put("".concat("/api/blogs","/").concat(t),n),e.next=3,a;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(d.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.a.delete("".concat("/api/blogs","/").concat(t)),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.values,n=e.likeBlog,a=e.replaceTitle,l=e.deleteBlog;e.errorMessage;return r.a.createElement("div",{className:"list-group"},r.a.createElement("li",{className:"list-group-item list-group-item-action"},t.title,r.a.createElement("span",{style:{margin:"5px"}}),t.author,r.a.createElement("span",{style:{margin:"5px"}}),t.url,r.a.createElement("span",{style:{margin:"5px"}})),r.a.createElement("div",{className:"form-inline"},r.a.createElement("div",null,r.a.createElement("span",{style:{margin:"5px"}}),"Likes: ",t.likes,r.a.createElement("button",{type:"button",className:"btn btn-success",id:"listbtnlike",style:{marginLeft:"5px"},onClick:n},"+1"),r.a.createElement("span",{style:{marginRight:"10px"}})),r.a.createElement("button",{type:"button",className:"btn btn-primary",id:"listbtn",style:{marginLeft:"5px"},onClick:a},"change title"),r.a.createElement("span",{style:{marginRight:"10px"}}),r.a.createElement("button",{type:"button",className:"btn btn-warning",id:"listbtn",style:{marginLeft:"5px"},onClick:l},"delete")))},E=function(e){var t=e.rows;return r.a.createElement("div",{style:{lineHeight:0}},t)},v=function(e){var t=e.setTitleToFind,n=e.titleToFind,a=e.handleFindTitleChange;return r.a.createElement("form",{onChange:t},r.a.createElement("div",{align:"left"},r.a.createElement("label",{htmlFor:"filter"},"filter shown with:"),r.a.createElement("input",{id:"filter",type:"text",className:"form-control",value:n,onChange:a})))},y=function(e){var t=e.addBlog,n=e.newTitle,a=e.handleTitleChange,l=e.newAuthor,o=e.handleAuthorChange,i=e.newUrl,c=e.handleUrlChange,u=(e.newLikes,e.handleLikesChange,e.replaceTitle);return r.a.createElement("div",{className:"col-auto"},r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{align:"left",className:"form-group"},r.a.createElement("label",{id:"formlabel",htmlFor:"title"},"title:"),r.a.createElement("input",{id:"title",type:"text",className:"form-control",value:n,onChange:a})),r.a.createElement("div",{align:"left",className:"form-group"},r.a.createElement("label",{id:"formlabel",htmlFor:"author"},"author:"),r.a.createElement("input",{id:"author",type:"text",className:"form-control",value:l,onChange:o})),r.a.createElement("div",{align:"left",className:"form-group"},r.a.createElement("label",{id:"formlabel",htmlFor:"url"},"url:"),r.a.createElement("input",{id:"url",type:"text",className:"form-control",value:i,onChange:c})),r.a.createElement("div",{align:"left",className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:u},"add"))))},w=function(){return r.a.createElement("div",{style:{color:"gray",fontStyle:"italic",fontSize:16}},r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("center",null,r.a.createElement("em",null,"Bloglist app, Full Stack Web Development"),r.a.createElement("br",null),r.a.createElement("em",null,"University of Helsinki 2020")))},T=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),l=t[0],o=t[1],m=Object(a.useState)(""),f=Object(c.a)(m,2),d=f[0],p=f[1],g=Object(a.useState)(""),T=Object(c.a)(g,2),k=T[0],j=T[1],O=Object(a.useState)(""),C=Object(c.a)(O,2),N=C[0],S=C[1],x=Object(a.useState)(0),B=Object(c.a)(x,2),F=B[0],L=B[1],A=Object(a.useState)(!0),D=Object(c.a)(A,2),I=D[0],U=D[1],R=Object(a.useState)(""),z=Object(c.a)(R,2),H=z[0],J=z[1],q=Object(a.useState)(null),M=Object(c.a)(q,2),W=M[0],G=M[1],K=Object(a.useState)(null),P=Object(c.a)(K,2),Q=P[0],V=P[1];Object(a.useEffect)((function(){b.getAll().then((function(e){o(e)}))}),[]);var X=n(50).animateScroll,Y=I?Array.from(l):l.filter((function(e){return e.title.toLowerCase().includes(H.toLowerCase())})),Z=function(e){var t=l.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{title:d});d?window.confirm("replace the old title with a new one?")&&b.update(e,n).then((function(e){o(l.map((function(n){return n.title!==t.title?n:e}))),X.scrollToTop(),V("Changed blog title of `".concat(t.title,"` to `").concat(d,"`")),setTimeout((function(){V(null)}),4e3)})).catch((function(e){X.scrollToTop(),G("Something went wrong: `".concat(e.data,"`")),setTimeout((function(){G(null)}),4e3),o(l.filter((function(e){return e.id!==t.id})))})):(X.scrollTo("myScrollToElement",{duration:500,delay:50,smooth:!0,containerId:"ContainerElementID",offset:50}),G("Set new title in the field `title`"),setTimeout((function(){G(null)}),4e3))},$=function(e){var t=l.find((function(t){return t.id===e})),n=Object(i.a)(Object(i.a)({},t),{},{likes:t.likes+1});b.update(t.id,n).then((function(e){o(l.map((function(n){return n.likes!==t.likes?n:e})))})).catch((function(e){X.scrollToTop(),G("Something went wrong: `".concat(e.data,"`")),setTimeout((function(){G(null)}),4e3),o(l.filter((function(e){return e.id!==t.id})))}))},_=function(e){var t=l.find((function(t){return t.id===e}));window.confirm("Delete `".concat(t.title,"`?"))&&b.remove(e,t).then((function(){o(l.filter((function(t){return t.id!==e}))),X.scrollToTop(),V("Deleted `".concat(t.title,"`")),setTimeout((function(){V(null)}),4e3)})).catch((function(e){X.scrollToTop(),G("Information of `".concat(t.title,"` has already been removed from server")),setTimeout((function(){G(null)}),4e3)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{id:"nav",className:"navbar navbar-light bg-light"},r.a.createElement("strong",null,"Bloglist"),r.a.createElement("a",{role:"button",className:"btn btn-outline-primary",href:"/info"},"Info")),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-auto"},r.a.createElement(v,{setTitleToFind:function(e){e.preventDefault(),""!==H&&U(!1)},titleToFind:H,handleFindTitleChange:function(e){J(e.target.value)}})),r.a.createElement(s,{message:Q}),r.a.createElement(u,{message:W}),r.a.createElement("br",null),r.a.createElement("div",{className:"col-auto"},r.a.createElement("b",null,"Add new blog"),r.a.createElement(y,{name:"myScrollToElement",addBlog:function(e){e.preventDefault();var t={title:d,author:k,url:N,likes:F};l.map((function(e){return e.url.toLowerCase()})).includes(t.url.toLowerCase())?Z(t):b.create(t).then((function(e){o(l.concat(e)),p(""),j(""),S(""),L(0),V("Added ".concat(t.title)),setTimeout((function(){V(null)}),4e3)})).catch((function(e){G("fields title, author, and url are required"),setTimeout((function(){G(null)}),4e3)}))},newTitle:d,handleTitleChange:function(e){p(e.target.value)},newAuthor:k,handleAuthorChange:function(e){j(e.target.value)},newUrl:N,handleUrlChange:function(e){S(e.target.value)},newLikes:F,handleLikesChange:function(e){L(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("div",{className:"col-auto"},r.a.createElement("b",null,"Blogs"),r.a.createElement(E,{rows:Y.map((function(e){return r.a.createElement(h,{key:e.title,values:e,likeBlog:function(){return $(e.id)},replaceTitle:function(){return Z(e.id)},deleteBlog:function(){return _(e.id)}})}))})),r.a.createElement(w,null)))};n(61);o.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.33f92e36.chunk.js.map