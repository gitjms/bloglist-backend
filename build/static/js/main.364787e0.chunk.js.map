{"version":3,"sources":["services/blogs.js","reducers/blogReducer.js","services/users.js","reducers/userReducer.js","reducers/messageReducer.js","reducers/filterReducer.js","reducers/loggedUserReducer.js","store.js","services/login.js","components/LoginForm.js","hooks/index.js","components/BlogForm.js","components/Filter.js","components/User.js","components/Users.js","components/Blog.js","components/Blogs.js","components/Message.js","components/Footer.js","components/Togglable.js","App.js","index.js"],"names":["token","getAll","a","request","axios","get","response","data","create","newObject","config","headers","Authorization","post","update","id","put","remove","delete","setToken","newToken","initializeBlogs","dispatch","blogService","blogs","type","changedBlog","state","likes","find","n","findById","blogReducer","action","map","blog","initializeUsers","userService","users","userReducer","timeOutList","setMessage","text","which","time","forEach","tout","clearTimeout","messageChange","push","setTimeout","errorMessageChange","messageReducer","filterReducer","content","setLoggedUser","loggedUserReducer","console","log","reducer","combineReducers","loggedUser","message","filter","store","createStore","composeWithDevTools","applyMiddleware","thunk","then","login","credentials","LoginForm","loginUser","useState","username","setUsername","password","setPassword","className","onSubmit","event","preventDefault","align","htmlFor","name","value","onChange","target","style","float","useField","form","setValue","BlogForm","props","useDispatch","setForm","ShowOrhide","display","visible","newTitle","newAuthor","newUrl","marginTop","onClick","newBlog","title","author","url","user","exception","setVisible","history","goBack","Filter","filterChange","User","useParams","userBlogs","length","key","mapDispatchToProps","deleteUser","deletedUser","connect","hideOrShow","to","textAlign","Object","keys","path","Blog","href","likeBlog","deleteBlog","compareLikes","b","returnedContent","deletedBlog","sort","toLowerCase","includes","blogForm","Message","useSelector","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Footer","fontStyle","Togglable","React","forwardRef","ref","scroller","require","animateScroll","hideWhenVisible","showWhenVisible","toggleVisibility","scrollToTop","useImperativeHandle","role","buttonLabel","children","displayName","useEffect","useHistory","loginFormRef","useRef","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","loginObject","loginService","setItem","stringify","handleLogout","clear","location","reload","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.364787e0.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const request = axios.get(baseUrl)\r\n  const response = await request\r\n  return response.data\r\n}\r\nconst create = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.post(baseUrl, newObject, config)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.delete(`${baseUrl}/${id}`, config)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, create, update, remove, setToken }\r\n","import blogService from '../services/blogs'\r\n\r\nexport const initializeBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INIT_BLOGS',\r\n      data: blogs\r\n    })\r\n  }\r\n}\r\n\r\nexport const createBlog = (blog) => {\r\n  return async dispatch => {\r\n    const newBlog = await blogService.create(blog)\r\n    dispatch({\r\n      type: 'NEW_BLOG',\r\n      data: newBlog\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    const deletedBlog = await blogService.remove(id)\r\n    dispatch({\r\n      type: 'DELETE_BLOG',\r\n      data: deletedBlog\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport const likeBlog = (blog) => {\r\n  return async dispatch => {\r\n    const returnedContent = await blogService.update(\r\n      blog.id, { ...blog, likes: blog.likes + 1 })\r\n    dispatch({\r\n      type: 'LIKE_BLOG',\r\n      data: returnedContent\r\n    })\r\n  }\r\n}\r\n\r\nconst findById = (state, id) => {\r\n  return state.find(n => n.id === id)\r\n}\r\n\r\nconst changedBlog = (state, id, likes) => {\r\n  return {\r\n    ...findById(state, id),\r\n    likes: likes\r\n  }\r\n}\r\n\r\nconst blogReducer = (state = [], action) => {\r\n  switch(action.type) {\r\n  case 'INIT_BLOGS':\r\n    return action.data\r\n  case 'NEW_BLOG':\r\n    return [...state, action.data]\r\n  case 'DELETE_BLOG':\r\n    return [...state, action.data]\r\n  case 'LIKE_BLOG':\r\n    return state.map(blog =>\r\n      blog.id !== action.data.id ? blog : changedBlog(state, action.data.id, action.data.likes)\r\n    )\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default blogReducer","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/users'\r\n\r\n// let token = null\r\n\r\n// const setToken = newToken => {\r\n//   token = `bearer ${newToken}`\r\n// }\r\n\r\nconst getAll = async () => {\r\n  const request = axios.get(baseUrl)\r\n  const response = await request\r\n  return response.data\r\n}\r\nconst create = async (newObject) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token },\r\n  // }\r\n  const request = axios.post(baseUrl, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst remove = async (id) => {\r\n  // const config = {\r\n  //   headers: { Authorization: token },\r\n  // }\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, create, remove }\r\n","import userService from '../services/users'\r\n\r\nexport const initializeUsers = () => {\r\n  return async dispatch => {\r\n    const users = await userService.getAll()\r\n    dispatch({\r\n      type: 'INIT_USERS',\r\n      data: users\r\n    })\r\n  }\r\n}\r\n\r\nexport const createUser = (user) => {\r\n  return async dispatch => {\r\n    const newUser = await userService.create(user)\r\n    dispatch({\r\n      type: 'NEW_USER',\r\n      data: newUser\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteUser = (id) => {\r\n  return async dispatch => {\r\n    const deletedUser = await userService.remove(id)\r\n    dispatch({\r\n      type: 'DELETE_USER',\r\n      data: deletedUser\r\n    })\r\n  }\r\n}\r\n\r\nconst userReducer = (state = [], action) => {\r\n  switch(action.type) {\r\n  case 'INIT_USERS':\r\n    return action.data\r\n  case 'NEW_USER':\r\n    return [...state, action.data]\r\n  case 'DELETE_USER':\r\n    return [...state, action.data]\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default userReducer","let timeOutList = []\r\n\r\nexport const setMessage = (text, which, time) => {\r\n  timeOutList.forEach(tout => typeof tout === 'number' ? clearTimeout(tout) : tout)\r\n  return async dispatch => {\r\n    which === 'msg'\r\n      ? await dispatch(messageChange(text, which))\r\n      && timeOutList.push(setTimeout(() => {\r\n        dispatch(messageChange(null))\r\n        timeOutList = []\r\n      }, 1000*time))\r\n      : await dispatch(errorMessageChange(text, which))\r\n      && timeOutList.push(setTimeout(() => {\r\n        dispatch(errorMessageChange(null))\r\n        timeOutList = []\r\n      }, 1000*time))\r\n  }\r\n}\r\n\r\nexport const messageChange = (text, which) => {\r\n  return {\r\n    type: 'SET_MESSAGE',\r\n    data: { text, which }\r\n  }\r\n}\r\n\r\nexport const errorMessageChange = (text, which) => {\r\n  return {\r\n    type: 'SET_ERRORMESSAGE',\r\n    data: { text, which }\r\n  }\r\n}\r\n\r\nconst messageReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n  case 'SET_MESSAGE':\r\n    return action.data\r\n  case 'SET_ERRORMESSAGE':\r\n    return action.data\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default messageReducer","export const filterChange = ( type, content ) => {\r\n  return {\r\n    type: 'SET_FILTER',\r\n    content\r\n  }\r\n}\r\n\r\nconst filterReducer = (state = 'ALL', action) => {\r\n  switch (action.type) {\r\n  case 'SET_FILTER':\r\n    return {\r\n      type: action.type,\r\n      content: action.content\r\n    }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default filterReducer","export const setLoggedUser = ( type, content ) => {\r\n  return {\r\n    type: 'SET_LOGGEDUSER',\r\n    content\r\n  }\r\n}\r\n\r\nconst loggedUserReducer = (state = [], action) => {\r\n  console.log('loggedUserReducer',state,action)\r\n  switch (action.type) {\r\n  case 'SET_LOGGEDUSER':\r\n    return {\r\n      type: action.type,\r\n      content: action.content\r\n    }\r\n  default:\r\n    return state\r\n  }\r\n}\r\n\r\nexport default loggedUserReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport blogReducer, { initializeBlogs } from './reducers/blogReducer'\r\nimport userReducer, { initializeUsers } from './reducers/userReducer'\r\nimport messageReducer from './reducers/messageReducer'\r\nimport filterReducer from './reducers/filterReducer'\r\nimport loggedUserReducer from './reducers/loggedUserReducer'\r\nimport blogService from './services/blogs'\r\nimport userService from './services/users'\r\n\r\nconst reducer = combineReducers({\r\n  blogs: blogReducer,\r\n  users: userReducer,\r\n  loggedUser: loggedUserReducer,\r\n  message: messageReducer,\r\n  filter: filterReducer\r\n})\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  composeWithDevTools(\r\n    applyMiddleware(thunk)\r\n  )\r\n)\r\n\r\nblogService.getAll().then(blogs =>\r\n  store.dispatch(initializeBlogs(blogs))\r\n)\r\n\r\nuserService.getAll().then(users =>\r\n  store.dispatch(initializeUsers(users))\r\n)\r\n\r\nexport default store","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst LoginForm = ({ loginUser }) => {\r\n\r\n  LoginForm.propTypes = {\r\n    handleLogin: PropTypes.func.isRequired,\r\n    handleUsernameChange: PropTypes.func.isRequired,\r\n    handlePasswordChange: PropTypes.func.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n    password: PropTypes.string.isRequired\r\n  }\r\n\r\n  const [ username, setUsername ] = useState('')\r\n  const [ password, setPassword ] = useState('')\r\n\r\n  const handleUsernameChange = (event) => { setUsername(event.target.value) }\r\n  const handlePasswordChange = (event) => { setPassword(event.target.value) }\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault()\r\n    loginUser({\r\n      username: username,\r\n      password: password\r\n    })\r\n\r\n    setUsername('')\r\n    setPassword('')\r\n  }\r\n\r\n  return (\r\n    <div className='form-group-inline'>\r\n      <form onSubmit={handleLogin}>\r\n        <div align='left' className='form-group-inline'>\r\n          <label id='formlabel' htmlFor='username'>username:</label>\r\n          <input id='username' type='text' className='form-control' name='Username'\r\n            value={username}\r\n            onChange={handleUsernameChange}\r\n          />\r\n          <label id='formlabel' htmlFor='password'>password:</label>\r\n          <input id='password' type='text' className='form-control' name='Password'\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button className='btn btn-primary' id='login-button' type='submit' style={{ float: 'left' }}>login</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginForm","import { useState } from 'react'\r\n\r\nexport const useField = (form) => {\r\n  const [value, setValue] = useState('')\r\n\r\n  const onChange = (event) => {\r\n    form\r\n      ? setValue(event.target.value)\r\n      : setValue('')\r\n  }\r\n\r\n  return {\r\n    value,\r\n    onChange\r\n  }\r\n}","import React, { useState } from 'react'\r\nimport { useField } from '../hooks'\r\nimport { useDispatch } from 'react-redux'\r\nimport { initializeBlogs, createBlog } from '../reducers/blogReducer'\r\nimport { setMessage } from '../reducers/messageReducer'\r\n\r\n\r\nconst BlogForm = (props) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const [ form, setForm ] = useState(true)\r\n  const ShowOrhide = { display: props.visible ? '' : 'none' }\r\n\r\n  const newTitle = useField(form)\r\n  const newAuthor = useField(form)\r\n  const newUrl = useField(form)\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    setForm(true)\r\n\r\n    const newBlog = {\r\n      title: newTitle.value,\r\n      author: newAuthor.value,\r\n      url: newUrl.value,\r\n      user: props.user.name\r\n    }\r\n\r\n    try {\r\n      dispatch(createBlog(newBlog))\r\n      dispatch(setMessage(`added \\`${newTitle.value}\\``,'msg',5))\r\n    } catch (exception) {\r\n      dispatch(setMessage(`error: \\`${exception}\\``,'err',5))\r\n    }\r\n\r\n    dispatch(initializeBlogs())\r\n    props.setVisible(!props.visible)\r\n    props.history.goBack()\r\n  }\r\n\r\n  return (\r\n    <div className='col-auto' style={ShowOrhide}>\r\n      <br />\r\n      <b>Add a new blog</b>\r\n      <form>\r\n        <div align='left' className='form-group'>\r\n          <label id='formlabel'>title:</label>\r\n          <input className='form-control' {...newTitle} />\r\n        </div>\r\n        <div align='left' className='form-group'>\r\n          <label id='formlabel'>author:</label>\r\n          <input className='form-control' {...newAuthor} />\r\n        </div>\r\n        <div align='left' className='form-group'>\r\n          <label id='formlabel'>url:</label>\r\n          <input className='form-control' {...newUrl} />\r\n        </div>\r\n        <div align='left' className='form-group'>\r\n          <button className='btn btn-primary' id='add-button' type='submit'\r\n            style={{ float: 'left', marginTop: '12px' }}\r\n            onClick={handleSubmit}>\r\n            add\r\n          </button>\r\n          <button className='btn btn-primary' id='reset-button' type='submit'\r\n            style={{ float: 'left', marginTop: '12px' }}\r\n            onClick={() => {\r\n              setForm(false)\r\n            }}>\r\n            reset\r\n          </button>\r\n        </div>\r\n        <div align='right' className='form-group'>\r\n          <button className='btn btn-primary' id='formback-button' type='button'\r\n            onClick={() => {\r\n              props.history.goBack()\r\n              props.setVisible(!props.visible)\r\n            }}\r\n            props={{\r\n              ...props,\r\n            }} >back\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm\r\n","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { filterChange } from '../reducers/filterReducer'\r\n\r\nconst Filter = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const handleChange = (event) => {\r\n    event.preventDefault()\r\n    const content = event.target.value\r\n    dispatch(filterChange('SET_FILTER',content))\r\n  }\r\n\r\n  return (\r\n    <div className='col-auto'>\r\n      <form onChange={handleChange}>\r\n        <label htmlFor='filter'>filter shown with:</label>\r\n        <input name='filter' type='text' className='form-control' />\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst User = ({ props }) => {\r\n  const id = useParams().id\r\n\r\n  const ShowOrhide = { display: props.visible ? '' : 'none' }\r\n\r\n  const user = props.users.find(user => user.id === id)\r\n  if (!user) {\r\n    return null\r\n  }\r\n\r\n  const userBlogs = props.blogs.map(blog => {\r\n    return blog.user.name === user.name\r\n      ? blog : null\r\n  }).filter(blog => !!blog)\r\n  console.log('One User',userBlogs)\r\n\r\n  return(\r\n    <div className='col-auto' style={ShowOrhide}>\r\n      <div>\r\n        <br />\r\n        <h2>{user.name}</h2>\r\n        {userBlogs.length > 0\r\n          ? <>\r\n            <b>added blogs</b>\r\n            <div className='col-auto'>\r\n              <ul>\r\n                {userBlogs.map(blog =>\r\n                  <li key={blog.id}>\r\n                    {blog.title}\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </>\r\n          : <b>no added blogs</b>\r\n        }\r\n      </div>\r\n      <button type='button' className='btn btn-primary'\r\n        onClick={() => {\r\n          props.history.goBack()\r\n          props.setVisible(!props.visible)\r\n        }}\r\n        props={{\r\n          ...props,\r\n        }} >back\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport { Switch, Route, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport User from './User'\r\nimport { deleteUser } from '../reducers/userReducer'\r\nimport { setMessage } from '../reducers/messageReducer'\r\n\r\nconst Users = (props) => {\r\n  console.log('Users',props)\r\n  const hideOrShow = { display: props.visible ? 'none' : '' }\r\n\r\n  const usertable = () => (\r\n    <table className='table-hover'>\r\n      <tbody>\r\n        <tr>\r\n          <th></th>\r\n          <th>blogs created</th>\r\n        </tr>\r\n        {props.users.map(user =>\r\n          <tr key={user.id}>\r\n            <td>\r\n              <Link\r\n                to={`/users/${user.id}`}\r\n                onClick={() => {\r\n                  props.setVisible(true)\r\n                  props.history.push('/users')\r\n                }}\r\n              >{user.name}\r\n              </Link>\r\n            </td>\r\n            <td style={{ textAlign: 'right' }}>\r\n              {Object.keys(user.blogs).length}\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <div style={hideOrShow}>\r\n        <br />\r\n        {/* <Filter /> */}\r\n        <h2>Users</h2>\r\n        {/* <div>\r\n          {props.user !== null\r\n            ? props.blogForm()\r\n            : null\r\n          }\r\n        </div> */}\r\n        <div>\r\n          <ul>\r\n            {usertable()}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <Switch>\r\n        {/* <Route path='/create'>\r\n          <BlogForm\r\n            props={{\r\n              ...props,\r\n              setVisible: props.setVisible,\r\n              history: props.history\r\n            }}\r\n          />\r\n        </Route> */}\r\n        <Route path='/users/:id'>\r\n          <User\r\n            props={{\r\n              ...props,\r\n              visible: props.visible,\r\n              setVisible: props.setVisible,\r\n              history: props.history,\r\n              setMessage: props.setMessage\r\n            }}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: state.users,\r\n    blogs: state.blogs\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteUser,\r\n  setMessage\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Users)","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { initializeBlogs } from '../reducers/blogReducer'\r\n\r\nconst Blog = ({ props }) => {\r\n  const id = useParams().id\r\n  const dispatch = useDispatch()\r\n\r\n  const ShowOrhide = { display: props.visible ? '' : 'none' }\r\n\r\n  const blog = props.blogs.find(n => n.id === id)\r\n  if (!blog) {\r\n    return null\r\n  }\r\n\r\n  return(\r\n    <div style={ShowOrhide}>\r\n      <br />\r\n      <li className='list-group-item' id='small-list'>\r\n        <b id='b-left'>{blog.title}</b>by<b id='b-right'>{blog.author}</b>\r\n      </li>\r\n      <br />\r\n      <li className='list-group-item' id='small-list'>\r\n        <a href={blog.url}>{blog.url}</a>\r\n      </li>\r\n      <li className='list-group-item' id='small-list'>\r\n        {blog.likes} likes\r\n        <button type='button' className='btn btn-success' id='like-button'\r\n          onClick={() => {\r\n            props.likeBlog({ ...blog, user: blog.user.id })\r\n            props.setMessage(`you liked '${blog.title}'`,'msg',5)\r\n          }}>like</button>\r\n      </li>\r\n      <li className='list-group-item' id='small-list'>\r\n        added by {blog.user.name}\r\n        { props.user.name === blog.user.name &&\r\n          <button type='button' id='delete-button' className='btn btn-warning'\r\n            onClick={() => {\r\n              props.history.goBack()\r\n              props.deleteBlog(id)\r\n              props.setMessage(`you deleted '${blog.title}'`,'msg',5)\r\n              dispatch(initializeBlogs())\r\n              props.setVisible(!props.visible)\r\n            }}>delete</button>\r\n        }\r\n        <button type='button' id='back-button' className='btn btn-primary'\r\n          onClick={() => {\r\n            props.history.goBack()\r\n            props.setVisible(!props.visible)\r\n          }}\r\n          props={{\r\n            ...props,\r\n          }} >back\r\n        </button>\r\n      </li>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n","import React from 'react'\r\nimport { Switch, Route, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport Filter from './Filter'\r\nimport Users from './Users'\r\nimport Blog from './Blog'\r\nimport { likeBlog, deleteBlog } from '../reducers/blogReducer'\r\nimport { setMessage } from '../reducers/messageReducer'\r\n\r\nconst Blogs = (props) => {\r\n  console.log('Blogs',props)\r\n  const hideOrShow = { display: props.visible ? 'none' : '' }\r\n\r\n  const bloglist = () => (\r\n    <table className='table-striped table-hover'>\r\n      <tbody>\r\n        {props.blogs.map(blog =>\r\n          <tr key={blog.id}>\r\n            <td>\r\n              <Link\r\n                to={`/blogs/${blog.id}`}\r\n                onClick={() => {\r\n                  props.setVisible(true)\r\n                  props.history.push('/blogs')\r\n                }}\r\n              >{blog.title}\r\n              </Link>\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </table>\r\n\r\n    // props.blogs.map(blog =>\r\n    //   <li id='big-list' className='list-group-item' key={blog.id}>\r\n    //     <Link\r\n    //       to={`/blogs/${blog.id}`}\r\n    //       onClick={() => {\r\n    //         props.setVisible(true)\r\n    //         props.history.push('/blogs')\r\n    //       }}\r\n    //     >{blog.title}\r\n    //     </Link>\r\n    //   </li>\r\n    // )\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <div style={hideOrShow}>\r\n        <br />\r\n        <Filter />\r\n        <h2>Blogs</h2>\r\n        <div>\r\n          {props.user !== null\r\n            ? props.blogForm()\r\n            : null\r\n          }\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <ul>\r\n            {bloglist()}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <Switch>\r\n        <Route path='/users'>\r\n          <Users\r\n            props={{\r\n              ...props,\r\n              visible: props.visible,\r\n              setVisible: props.setVisible,\r\n              history: props.history,\r\n              setMessage: props.setMessage\r\n            }}\r\n          />\r\n        </Route>\r\n        <Route path='/blogs/:id'>\r\n          <Blog\r\n            props={{\r\n              ...props,\r\n              visible: props.visible,\r\n              setVisible: props.setVisible,\r\n              history: props.history,\r\n              setMessage: props.setMessage\r\n            }}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction compareLikes(a, b) {\r\n  return b.likes - a.likes\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  if ( state.filter === 'ALL' ) {\r\n    return { blogs: state.blogs.sort(compareLikes) }\r\n  }\r\n  return {\r\n    blogs: state.blogs.filter(blog => blog.title.toLowerCase()\r\n      .includes(state.filter.content.toLowerCase())).sort(compareLikes)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  likeBlog,\r\n  deleteBlog,\r\n  setMessage\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Blogs)","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst Message = () => {\r\n  const message = useSelector(({ message }) => {\r\n    if ( message !== null ) {\r\n      return message\r\n    }\r\n    return { which: '' , text: '' }\r\n  })\r\n\r\n  const messageStyle = {\r\n    color: 'green',\r\n    background: 'lightgray',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  const errorMessageStyle = {\r\n    color: 'rgb(255, 0, 0)',\r\n    background: 'lightgray',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={message.which === 'msg'\r\n        ? messageStyle\r\n        : message.which === 'err'\r\n          ? errorMessageStyle\r\n          : null\r\n      } >\r\n      {message.text}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  const footerStyle = {\r\n    color: 'gray',\r\n    fontStyle: 'italic',\r\n    fontSize: 16\r\n  }\r\n  return (\r\n    <div style={footerStyle}>\r\n      <br />\r\n      <hr />\r\n      <center>\r\n        <em>Bloglist app, Full Stack Web Development</em>\r\n        <br />\r\n        <em>University of Helsinki 2020</em>\r\n      </center>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer","import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n\r\n  Togglable.propTypes = {\r\n    buttonLabel: PropTypes.string.isRequired\r\n  }\r\n\r\n  const Scroll = require('react-scroll')\r\n  const scroller = Scroll.animateScroll\r\n\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n    if (visible) {\r\n      scroller.scrollToTop()\r\n    }\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className='btn-group' role='group'>\r\n      <div style={hideWhenVisible}>\r\n        <button className='btn btn-primary'type='submit'\r\n          onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible} className='togglableContent'>\r\n        {props.children}\r\n        <button className='btn btn-primary'type='submit' style={{ float: 'right' }}\r\n          onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\n\r\nexport default Togglable","import React, { useState, useEffect, useRef } from 'react'\nimport { Switch, Route, Link, useHistory } from 'react-router-dom'\n\nimport { initializeBlogs  } from './reducers/blogReducer'\nimport { initializeUsers  } from './reducers/userReducer'\nimport { useDispatch, useSelector, connect } from 'react-redux'\n\nimport blogService from './services/blogs'\n// import userService from './services/users'\nimport loginService from './services/login'\n\nimport LoginForm from './components/LoginForm'\nimport BlogForm from './components/BlogForm'\n\nimport Blogs from './components/Blogs'\nimport Users from './components/Users'\nimport Message from './components/Message'\nimport Footer from './components/Footer'\nimport Togglable from './components/Togglable'\nimport { setLoggedUser } from './reducers/loggedUserReducer'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initializeBlogs())\n    dispatch(initializeUsers())\n  }, [dispatch])\n\n  const loggedUser = useSelector(state => state.loggedUser)\n  console.log('loggedUser',loggedUser)\n\n  // const [ user, setUser ] = useState(null)\n  const [ visible, setVisible ] = useState(false)\n  const [ message, setMessage ] = useState({ which: '' , text: '' })\n\n  const history = useHistory()\n  const loginFormRef = useRef()\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBloglistappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setLoggedUser(user)\n      // setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [dispatch])\n\n  const handleLogin = async (loginObject) => {\n    if (loginObject.username === '' || loginObject.password === '') {\n      setMessage('both fields are required','err',5)\n    } else {\n      try {\n        const user = await loginService.login(loginObject)\n        window.localStorage.setItem('loggedBloglistappUser', JSON.stringify(user))\n        blogService.setToken(user.token)\n        setLoggedUser(user)\n        // setUser(user)\n      } catch (exception) {\n        setMessage('wrong username or password','err',5)\n      }\n    }\n  }\n\n  const handleLogout = async (event) => {\n    event.preventDefault()\n    try {\n      setLoggedUser(null)\n      // setUser(null)\n      window.localStorage.clear()\n    } catch (exception) {\n      setMessage(`${exception}`,'err',5)\n    }\n    window.location.reload()\n    setMessage('logged out successfully','msg',5)\n  }\n\n  const loginForm = () => (\n    <Togglable buttonLabel='sign in' ref={loginFormRef}>\n      <LoginForm loginUser={handleLogin} />\n    </Togglable>\n  )\n\n  const blogForm = () => (\n    <Link to={'/create'}\n      onClick={() => {\n        setVisible(true)\n        history.push('/blogs')\n      }}\n    >CREATE NEW\n    </Link>\n  )\n\n  return (\n    <>\n      <nav id='nav' className='navbar navbar-light bg-light'>\n        {/* <img src='/logo.png' width='50' height='35' className='d-inline-block align-top' alt=''/> */}\n        <a className=\"navbar-brand\" href=\"/\"><strong>Bloglist</strong></a>\n\n        {loggedUser !== null ?\n          <>\n            <div>\n              <Link to='/blogs' >blogs</Link>\n            </div>\n            <div>\n              <Link to='/users' >users</Link>\n            </div>\n            <div>\n              {loggedUser.name} logged in\n              <button className='btn btn-primary ml-2' id='logout-button' type='submit'\n                onClick={handleLogout}>\n                Logout\n              </button>\n            </div>\n          </>\n          : loginForm()\n        }\n      </nav>\n\n      <div className='container'>\n        <Message message={message} />\n        <Switch>\n          <Route path='/create'>\n            <BlogForm\n              user={loggedUser}\n              visible={true}\n              history={history}\n              blogForm={blogForm}\n              setVisible={setVisible}\n            />\n          </Route>\n          <Route path='/blogs'>\n            {loggedUser !== null\n              ? <Blogs\n                user={loggedUser}\n                visible={visible}\n                history={history}\n                blogForm={blogForm}\n                setVisible={setVisible}\n                setMessage={setMessage}\n              />\n              : null\n            }\n          </Route>\n          <Route path='/users'>\n            {loggedUser !== null\n              ? <Users\n                user={loggedUser}\n                visible={visible}\n                history={history}\n                setVisible={setVisible}\n                setMessage={setMessage}\n              />\n              : null\n            }\n          </Route>\n        </Switch>\n        <Footer />\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.loggedUser\n  }\n}\n\nexport default connect(\n  mapStateToProps\n)(App)\n// export default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport store from './store'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>, document.getElementById('root')\n)\n"],"sourceRoot":""}